

test: 15:
start: open.delay(1d) | buy; end: open | sell

tree1:  start: open.delay(1d) | buy; end: open | sell
    1  : Flow(TK.CHAIN, v=[Define(), ApplyChainProd()], '|')
    2  :     Define(TK.DEFINE, TK.DEFINE, ':')
    3  :         Ref(TK.IDENT, 'start')
    4  :         PropRef(TK.REF, '.')
    5  :             Get(TK.IDENT, 'open')
    6  :             FnCall('delay')
    7  :                 Get(TK.IDENT, 'delay')
    8  :                 List(TK.LIST, [Duration()])
    9  :                     Duration(TK.DUR, 1 day, 0:00:00)
   10  :     ApplyChainProd(TK.DEFINE, TK.DEFINE, '|')
   11  :         Ref(TK.IDENT, 'buy')

tree2:  start: open.delay(1d) | buy; end: open | sell
    1  : Flow(TK.CHAIN, v=[Define(), ApplyChainProd()], '|')
    2  :     Define(TK.DEFINE, TK.DEFINE, ':')
    3  :         Ref(TK.IDENT, 'end')
    4  :         Get(TK.IDENT, 'open')
    5  :     ApplyChainProd(TK.DEFINE, TK.DEFINE, '|')
    6  :         Ref(TK.IDENT, 'sell')
