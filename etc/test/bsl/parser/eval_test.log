

test:
"4
4 * 3
a = 4
s = { a=5 }
s.a
s.b = s.a * a
s.b
#
b = a * 3
c = b
s.b
++s.b

"

tree1:  4
result: int(4)
    1 : Int TK.INT(LITERAL, '4', V=4)

tree2:  4 * 3
result: Lit(None)
    1 : BinOp TK.MUL(BINOP, '*', V=None)
    2 :     Int TK.INT(LITERAL, '4', V=4)
    3 :     Int TK.INT(LITERAL, '3', V=3)

tree3:  a = 4
result: Lit(None)
    1 : Define TK.EQLS(BINOP, '=', V=None)
    2 :     Ref TK.IDNT(IDENTIFIER, 'a', V=None)
    3 :     Int TK.INT(LITERAL, '4', V=4)

tree4:  s = { a=5 }
result: Lit(None)
    1 : Define TK.EQLS(BINOP, '=', V=None)
    2 :     Ref TK.IDNT(IDENTIFIER, 's', V=None)
    3 :     Block TK.BLOCK(SCOPE, '', V=[Define()])
    4 :         Define TK.EQLS(BINOP, '=', V=None)
    5 :             Ref TK.IDNT(IDENTIFIER, 'a', V=None)
    6 :             Int TK.INT(LITERAL, '5', V=5)

tree5:  s.a
result: Lit(None)
    1 : PropRef TK.REF(BINOP, '.', V=None)
    2 :     Get TK.IDNT(IDENTIFIER, 's', V=None)
    3 :     Get TK.IDNT(IDENTIFIER, 'a', V=None)

tree6:  s.b = s.a * a
result: Lit(None)
    1 : Define TK.EQLS(BINOP, '=', V=None)
    2 :     PropRef TK.REF(BINOP, '.', V=None)
    3 :         Ref TK.IDNT(IDENTIFIER, 's', V=None)
    4 :         Ref TK.IDNT(IDENTIFIER, 'b', V=None)
    5 :     BinOp TK.MUL(BINOP, '*', V=None)
    6 :         PropRef TK.REF(BINOP, '.', V=None)
    7 :             Get TK.IDNT(IDENTIFIER, 's', V=None)
    8 :             Get TK.IDNT(IDENTIFIER, 'a', V=None)
    9 :         Get TK.IDNT(IDENTIFIER, 'a', V=None)

tree7:  s.b
result: Lit(None)
    1 : PropRef TK.REF(BINOP, '.', V=None)
    2 :     Get TK.IDNT(IDENTIFIER, 's', V=None)
    3 :     Get TK.IDNT(IDENTIFIER, 'b', V=None)

tree8:  b = a * 3
result: Lit(None)
    1 : Define TK.EQLS(BINOP, '=', V=None)
    2 :     Ref TK.IDNT(IDENTIFIER, 'b', V=None)
    3 :     BinOp TK.MUL(BINOP, '*', V=None)
    4 :         Get TK.IDNT(IDENTIFIER, 'a', V=None)
    5 :         Int TK.INT(LITERAL, '3', V=3)

tree9:  c = b
result: Lit(None)
    1 : Define TK.EQLS(BINOP, '=', V=None)
    2 :     Ref TK.IDNT(IDENTIFIER, 'c', V=None)
    3 :     Get TK.IDNT(IDENTIFIER, 'b', V=None)

tree10:  s.b
result: Lit(None)
    1 : PropRef TK.REF(BINOP, '.', V=None)
    2 :     Get TK.IDNT(IDENTIFIER, 's', V=None)
    3 :     Get TK.IDNT(IDENTIFIER, 'b', V=None)

tree11:  ++s.b
result: Lit(None)
    1 : UnaryOp TK.INCREMENT(UNARY, '++', V=None)
    2 :     PropRef TK.REF(BINOP, '.', V=None)
    3 :         Get TK.IDNT(IDENTIFIER, 's', V=None)
    4 :         Get TK.IDNT(IDENTIFIER, 'b', V=None)
