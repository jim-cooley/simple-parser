

test: "%%option(strict=true)

a = 4
a + 3
d = 1d
r = a * d
a += 3
r = a * d
s = { a=5 }
s.a
"

tree1:  a = 4
result: None
    1 : BinOp TK.ASSIGN(BINOP, '=', V=None)
    2 :     Ident TK.IDNT(IDENTIFIER, 'a', V=a)
    3 :     Int TK.INT(LITERAL, '4', V=4)

tree2:  a + 3
result: None
    1 : BinOp TK.ADD(BINOP, '+', V=None)
    2 :     Ident TK.IDNT(IDENTIFIER, 'a', V=a)
    3 :     Int TK.INT(LITERAL, '3', V=3)

tree3:  d = 1d
result: None
    1 : BinOp TK.ASSIGN(BINOP, '=', V=None)
    2 :     Ident TK.IDNT(IDENTIFIER, 'd', V=d)
    3 :     Duration TK.DUR(LITERAL, '1d', V=1 day, 0:00:00)

tree4:  r = a * d
result: None
    1 : BinOp TK.ASSIGN(BINOP, '=', V=None)
    2 :     Ident TK.IDNT(IDENTIFIER, 'r', V=r)
    3 :     BinOp TK.MUL(BINOP, '*', V=None)
    4 :         Ident TK.IDNT(IDENTIFIER, 'a', V=a)
    5 :         Ident TK.IDNT(IDENTIFIER, 'd', V=d)

tree5:  a += 3
result: None
    1 : BinOp TK.PLEQ(BINOP, '+=', V=None)
    2 :     Ident TK.IDNT(IDENTIFIER, 'a', V=a)
    3 :     Int TK.INT(LITERAL, '3', V=3)

tree6:  r = a * d
result: None
    1 : BinOp TK.ASSIGN(BINOP, '=', V=None)
    2 :     Ident TK.IDNT(IDENTIFIER, 'r', V=r)
    3 :     BinOp TK.MUL(BINOP, '*', V=None)
    4 :         Ident TK.IDNT(IDENTIFIER, 'a', V=a)
    5 :         Ident TK.IDNT(IDENTIFIER, 'd', V=d)

tree7:  s = { a=5 }
result: None
    1 : BinOp TK.ASSIGN(BINOP, '=', V=None)
    2 :     Ident TK.IDNT(IDENTIFIER, 's', V=s)
    3 :     Set TK.SET(SET, '{', V=[BinOp()])
    4 :         BinOp TK.ASSIGN(BINOP, '=', V=None)
    5 :             Ident TK.IDNT(IDENTIFIER, 'a', V=a)
    6 :             Int TK.INT(LITERAL, '5', V=5)

tree8:  s.a
result: None
    1 : PropRef TK.REF(BINOP, '.', V=None)
    2 :     Ident TK.IDNT(IDENTIFIER, 's', V=s)
    3 :     Ident TK.IDNT(IDENTIFIER, 'a', V=a)

tree1:  %%option(strict=true)
    1 : Command TK.PCT2(UNARY, '%%', V=None)
    2 :     FnCall TK.FUNCTION(BINOP, '(', V=None)
    3 :         Ident TK.IDNT(IDENTIFIER, 'option', V=option)
    4 :         List TK.PARAMETER_LIST(LIST, '(', V=[BinOp()])
    5 :             BinOp TK.ASSIGN(BINOP, '=', V=None)
    6 :                 Ident TK.IDNT(IDENTIFIER, 'strict', V=strict)
    7 :                 Bool TK.TRUE(LITERAL, 'true', V=True)
