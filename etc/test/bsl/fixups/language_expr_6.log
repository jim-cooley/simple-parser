

test: 6:
"pcross(close, sma(13)) | smacd(close, 20, 50) | smacd.close(20,50) | close.smacd(20,50)"

tree1:  pcross(close, sma(13)) | smacd(close, 20, 50) | smacd.close(20,50) | close.smacd(20,50)
result: list([FnCall(), FnCall(), PropRef(), PropRef()])
    1 : Flow TK.CHAIN(NONE, '|', V=[FnCall(), FnCall(), PropRef(), PropRef()])
    2 :     FnCall TK.FUNCTION(BINOP, '(', V=None)
    3 :         Get TK.IDNT(IDENTIFIER, 'pcross', V=None)
    4 :         List TK.TUPLE(LITERAL, '(', V=[Get(), FnCall()])
    5 :             Get TK.IDNT(IDENTIFIER, 'close', V=None)
    6 :             FnCall TK.FUNCTION(BINOP, '(', V=None)
    7 :                 Get TK.IDNT(IDENTIFIER, 'sma', V=None)
    8 :                 List TK.TUPLE(LITERAL, '(', V=[Int()])
    9 :                     Int TK.INT(LITERAL, '13', V=13)
   10 :     FnCall TK.FUNCTION(BINOP, '(', V=None)
   11 :         Get TK.IDNT(IDENTIFIER, 'smacd', V=None)
   12 :         List TK.TUPLE(LITERAL, '(', V=[Get(), Int(), Int()])
   13 :             Get TK.IDNT(IDENTIFIER, 'close', V=None)
   14 :             Int TK.INT(LITERAL, '20', V=20)
   15 :             Int TK.INT(LITERAL, '50', V=50)
   16 :     PropRef TK.REF(BINOP, '.', V=None)
   17 :         Get TK.IDNT(IDENTIFIER, 'smacd', V=None)
   18 :         FnCall TK.FUNCTION(BINOP, '(', V=None)
   19 :             Get TK.IDNT(IDENTIFIER, 'close', V=None)
   20 :             List TK.TUPLE(LITERAL, '(', V=[Int(), Int()])
   21 :                 Int TK.INT(LITERAL, '20', V=20)
   22 :                 Int TK.INT(LITERAL, '50', V=50)
   23 :     PropRef TK.REF(BINOP, '.', V=None)
   24 :         Get TK.IDNT(IDENTIFIER, 'close', V=None)
   25 :         FnCall TK.FUNCTION(BINOP, '(', V=None)
   26 :             Get TK.IDNT(IDENTIFIER, 'smacd', V=None)
   27 :             List TK.TUPLE(LITERAL, '(', V=[Int(), Int()])
   28 :                 Int TK.INT(LITERAL, '20', V=20)
   29 :                 Int TK.INT(LITERAL, '50', V=50)

tree1:(post)  pcross(close, sma(13)) | smacd(close, 20, 50) | smacd.close(20,50) | close.smacd(20,50)
result: list([FnCall(), FnCall(), PropRef(), PropRef()])
    1 : Flow TK.CHAIN(NONE, '|', V=[FnCall(), FnCall(), PropRef(), PropRef()])
    2 :     FnCall TK.FUNCTION(BINOP, '(', V=None)
    3 :         Get TK.IDNT(IDENTIFIER, 'pcross', V=None)
    4 :         List TK.TUPLE(LITERAL, '(', V=[Get(), FnCall()])
    5 :             Get TK.IDNT(IDENTIFIER, 'close', V=None)
    6 :             FnCall TK.FUNCTION(BINOP, '(', V=None)
    7 :                 Get TK.IDNT(IDENTIFIER, 'sma', V=None)
    8 :                 List TK.TUPLE(LITERAL, '(', V=[Int()])
    9 :                     Int TK.INT(LITERAL, '13', V=13)
   10 :     FnCall TK.FUNCTION(BINOP, '(', V=None)
   11 :         Get TK.IDNT(IDENTIFIER, 'smacd', V=None)
   12 :         List TK.TUPLE(LITERAL, '(', V=[Get(), Int(), Int()])
   13 :             Get TK.IDNT(IDENTIFIER, 'close', V=None)
   14 :             Int TK.INT(LITERAL, '20', V=20)
   15 :             Int TK.INT(LITERAL, '50', V=50)
   16 :     PropRef TK.REF(BINOP, '.', V=None)
   17 :         Get TK.IDNT(IDENTIFIER, 'smacd', V=None)
   18 :         FnCall TK.FUNCTION(BINOP, '(', V=None)
   19 :             Get TK.IDNT(IDENTIFIER, 'close', V=None)
   20 :             List TK.TUPLE(LITERAL, '(', V=[Int(), Int()])
   21 :                 Int TK.INT(LITERAL, '20', V=20)
   22 :                 Int TK.INT(LITERAL, '50', V=50)
   23 :     PropRef TK.REF(BINOP, '.', V=None)
   24 :         Get TK.IDNT(IDENTIFIER, 'close', V=None)
   25 :         FnCall TK.FUNCTION(BINOP, '(', V=None)
   26 :             Get TK.IDNT(IDENTIFIER, 'smacd', V=None)
   27 :             List TK.TUPLE(LITERAL, '(', V=[Int(), Int()])
   28 :                 Int TK.INT(LITERAL, '20', V=20)
   29 :                 Int TK.INT(LITERAL, '50', V=50)
