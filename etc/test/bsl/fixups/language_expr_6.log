

test: 6:
pcross(close, sma(13)) | smacd(close, 20, 50) | smacd.close(20,50) | close.smacd(20,50)

tree1:  pcross(close, sma(13)) | smacd(close, 20, 50) | smacd.close(20,50) | close.smacd(20,50)
    1  : Flow{TK.CHAIN, '|' len=4}
    2  :     FnCall('pcross')
    3  :         Get(TK.IDENT, 'pcross')
    4  :         Generate(TK.LIST, len=2)
    5  :             Get(TK.IDENT, 'close')
    6  :             FnCall('sma')
    7  :                 Get(TK.IDENT, 'sma')
    8  :                 List(TK.LIST, [Int()])
    9  :                     Int(TK.INT, 13)
   10  :     FnCall('smacd')
   11  :         Ref(TK.IDENT, 'smacd')
   12  :         Generate(TK.LIST, len=3)
   13  :             Ref(TK.IDENT, 'close')
   14  :             Int(TK.INT, 20)
   15  :             Int(TK.INT, 50)
   16  :     PropCall(TK.PROPCALL, 'smacd')
   17  :         Ref(TK.IDENT, 'smacd')
   18  :         List(TK.LIST, [Int(), Int()])
   19  :             Int(TK.INT, 20)
   20  :             Int(TK.INT, 50)
   21  :     PropCall(TK.PROPCALL, 'close')
   22  :         Ref(TK.IDENT, 'close')
   23  :         List(TK.LIST, [Int(), Int()])
   24  :             Int(TK.INT, 20)
   25  :             Int(TK.INT, 50)

tree1:(post)  pcross(close, sma(13)) | smacd(close, 20, 50) | smacd.close(20,50) | close.smacd(20,50)
result: list([FnCall(), FnCall(), PropCall(), PropCall()])
    1  : Flow{TK.CHAIN, '|' len=4}
    2  :     FnCall('pcross')
    3  :         Get(TK.IDENT, 'pcross')
    4  :         Generate(TK.LIST, len=2)
    5  :             Get(TK.IDENT, 'close')
    6  :             FnCall('sma')
    7  :                 Get(TK.IDENT, 'sma')
    8  :                 List(TK.LIST, [Int()])
    9  :                     Int(TK.INT, 13)
   10  :     FnCall('smacd')
   11  :         Ref(TK.IDENT, 'smacd')
   12  :         Generate(TK.LIST, len=3)
   13  :             Ref(TK.IDENT, 'close')
   14  :             Int(TK.INT, 20)
   15  :             Int(TK.INT, 50)
   16  :     PropCall(TK.PROPCALL, 'smacd')
   17  :         Ref(TK.IDENT, 'smacd')
   18  :         List(TK.LIST, [Int(), Int()])
   19  :             Int(TK.INT, 20)
   20  :             Int(TK.INT, 50)
   21  :     PropCall(TK.PROPCALL, 'close')
   22  :         Ref(TK.IDENT, 'close')
   23  :         List(TK.LIST, [Int(), Int()])
   24  :             Int(TK.INT, 20)
   25  :             Int(TK.INT, 50)
